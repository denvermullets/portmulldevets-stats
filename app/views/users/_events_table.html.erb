<!-- Table start -->
<div class="container mx-auto p4 sm:px-4">
  <div class="px-4 mx-4 overflow-x-auto sm:-mx-8 sm:px-2">
    <%= render partial: 'shared/datepicker', locals: { form_url: user_path(user) } %>
    <div class="inline-block min-w-full overflow-hidden rounded-lg shadow">
      <table class="min-w-full leading-normal">
        <thead>
          <tr>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              ID
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Name
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Tag
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Target
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Browser
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              OS
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Screen Size
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Device Type
            </th>
            <th class="px-5 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 bg-white border-b-2 border-gray-200">
              Referrer
            </th>
          </tr>
        </thead>
        <tbody>
          <% events.map do |event| %>
            <tr class="bg-white border-b hover:bg-gray-50 ">
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.id %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.name.blank? ? '(NULL)' : event.name %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.tag %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.target %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.browser.split('-')[0] || '(NULL)' %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.operating_system.split('-')[0] || '(NULL)' %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.screen_size %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.device_type %></td>
              <td class="px-6 py-4 text-sm text-gray-900 "><%= event.referrer.blank? ? '(NULL)' : event.referrer %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class='mr-8'>
      <%= turbo_pagy_nav(@pagy, @start_date, @end_date) %>
      <div class="pb-8 mt-2"><%== pagy_info(@pagy) %></div>
    </div>
  </div>
</div>
